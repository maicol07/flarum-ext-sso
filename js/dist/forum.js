(()=>{var e={n:o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return e.d(n,{a:n}),n},d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};(()=>{"use strict";const o=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/app"];var t=e.n(n);const r=flarum.core.compat["forum/components/HeaderSecondary"];var a=e.n(r);const c=flarum.core.compat["forum/components/SettingsPage"];var u=e.n(c);const i=flarum.core.compat["forum/components/LogInModal"];var l=e.n(i);function s(e,o){var n=t().forum.attribute("maicol07-sso."+e);return void 0!==o?(o!==Boolean||isNaN(n)||(n=Number(n)),o(n)):n}function p(){return{login:{url:s("login_url"),itemName:"logIn",removeItem:s("remove_login_btn",Boolean),text:t().translator.trans("core.forum.header.log_in_link")},signup:{url:s("signup_url"),itemName:"signUp",removeItem:s("remove_signup_btn",Boolean),text:t().translator.trans("core.forum.header.sign_up_link")}}}t().initializers.add("maicol07-sso",(function(){(0,o.override)(l().prototype,"oncreate",(function(){if(!s("provider_mode",Boolean)){var e=p();throw window.location.href=e.login.url,new Error("Stop execution")}})),(0,o.extend)(a().prototype,"items",(function(e){if(!s("provider_mode",Boolean))for(var o=p(),n=0,t=Object.entries(o);n<t.length;n++){var r=t[n][1];if(r.url)if(r.removeItem)e.remove(r.itemName);else{if(!e.has(r.itemName))return;e.setContent(r.itemName,m("a",{href:r.url,className:"Button Button--link"},r.text))}}})),(0,o.extend)(u().prototype,"accountItems",(function(e){!s("provider_mode",Boolean)&&s("login_url")&&(e.remove("changeEmail"),e.remove("changePassword"),s("manage_account_url",Boolean)&&e.add("manageAccount",m("a",{class:"Button",href:s("manage_account_url"),target:s("manage_account_btn_open_in_new_tab",Boolean)?"_blank":""},t().translator.trans("maicol07-sso.forum.manage_account_btn"))))})),(0,o.extend)(u().prototype,"settingsItems",(function(e){s("manage_account_url",Boolean)||s("provider_mode",Boolean)||e.has("account")&&0===e.get("account").children.length&&e.remove("account")}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map