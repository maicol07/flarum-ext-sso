(()=>{var o={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},d:(e,r)=>{for(var n in r)o.o(r,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e)};(()=>{"use strict";const e=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/app"];var n=o.n(r);const t=flarum.core.compat["forum/components/HeaderSecondary"];var a=o.n(t);const c=flarum.core.compat["forum/components/SettingsPage"];var l=o.n(c);const i=flarum.core.compat["forum/components/LogInModal"];var u=o.n(i);function s(o,e){var r=n().forum.attribute("maicol07-sso."+o);return void 0!==e?(e!==Boolean||isNaN(r)||(r=Number(r)),e(r)):r}n().initializers.add("maicol07-sso",(function(){(0,e.override)(u().prototype,"oncreate",(function(){if(!s("provider_mode",Boolean)){var o=s("login_url");throw o?window.location.href=o:n().alerts.show({type:"error"},n().translator.trans("maicol07-sso.forum.no_login_url_error")),new Error("Stop execution")}})),(0,e.extend)(a().prototype,"items",(function(o){if(!s("provider_mode",Boolean))for(var e={login:{url:s("login_url"),itemName:"logIn",removeItem:s("remove_login_btn",Boolean),text:n().translator.trans("core.forum.header.log_in_link")},signup:{url:s("signup_url"),itemName:"signUp",removeItem:s("remove_signup_btn",Boolean),text:n().translator.trans("core.forum.header.sign_up_link")}},r=0,t=Object.entries(e);r<t.length;r++){var a=t[r][1];if(a.url)if(a.removeItem)o.remove(a.itemName);else{if(!o.has(a.itemName))return;o.setContent(a.itemName,m("a",{href:a.url,className:"Button Button--link"},a.text))}}})),(0,e.extend)(l().prototype,"accountItems",(function(o){!s("provider_mode",Boolean)&&s("login_url")&&(o.remove("changeEmail"),o.remove("changePassword"),s("manage_account_url",Boolean)&&o.add("manageAccount",m("a",{class:"Button",href:s("manage_account_url"),target:s("manage_account_btn_open_in_new_tab",Boolean)?"_blank":""},n().translator.trans("maicol07-sso.forum.manage_account_btn"))))})),(0,e.extend)(l().prototype,"settingsItems",(function(o){s("manage_account_url",Boolean)||s("provider_mode",Boolean)||o.has("account")&&0===o.get("account").children.length&&o.remove("account")}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map