(()=>{var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t);const o=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/app"];var r=e.n(n);const a=flarum.core.compat["forum/components/HeaderSecondary"];var c=e.n(a);const u=flarum.core.compat["forum/components/SettingsPage"];var i=e.n(u);const l=flarum.core.compat["forum/components/LogInModal"];var s=e.n(l);function d(e){return r().forum.attribute("maicol07-sso."+e)}function f(){return{login:{url:d("login_url"),itemName:"logIn",removeItem:"1"===d("remove_login_btn"),text:r().translator.trans("core.forum.header.log_in_link")},signup:{url:d("signup_url"),itemName:"signUp",removeItem:"1"===d("remove_signup_btn"),text:r().translator.trans("core.forum.header.sign_up_link")}}}r().initializers.add("maicol07-sso",(function(){window.addEventListener("load",(function(){d("provider_mode")||((0,o.override)(s().prototype,"oncreate",(function(){var e=f();throw window.top.location.href=e.login.url,new Error("Stop execution")})),(0,o.extend)(c().prototype,"items",(function(e){for(var t=f(),o=0,n=Object.entries(t);o<n.length;o++){var r=n[o][1];if(r.url)if(r.removeItem)e.remove(r.itemName);else{if(!e.has(r.itemName))return;e.setContent(r.itemName,m("a",{href:r.url,className:"Button Button--link"},r.text))}}})),(0,o.extend)(i().prototype,"accountItems",(function(e){d("login_url")&&(e.remove("changeEmail"),e.remove("changePassword"),d("manage_account_url")&&e.add("manageAccount",m("a",{class:"Button",href:d("manage_account_url"),target:"1"===d("manage_account_btn_open_in_new_tab")?"_blank":""},r().translator.trans("maicol07-sso.forum.manage_account_btn"))))})),(0,o.extend)(i().prototype,"settingsItems",(function(e){d("manage_account_url")||e.has("account")&&0===e.get("account").children.length&&e.remove("account")})))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map