(()=>{var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};(()=>{"use strict";e.r(o);const t=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/app"];var r=e.n(n);const a=flarum.core.compat["forum/components/HeaderSecondary"];var c=e.n(a);const l=flarum.core.compat["forum/components/SettingsPage"];var u=e.n(l);const i=flarum.core.compat["forum/components/LogInModal"];var s=e.n(i);function d(e,o){var t=r().forum.attribute("maicol07-sso."+e);return void 0!==o?(o!==Boolean||isNaN(t)||(t=Number(t)),o(t)):t}function p(){return{login:{url:d("login_url"),itemName:"logIn",removeItem:d("remove_login_btn",Boolean),text:r().translator.trans("core.forum.header.log_in_link")},signup:{url:d("signup_url"),itemName:"signUp",removeItem:d("remove_signup_btn",Boolean),text:r().translator.trans("core.forum.header.sign_up_link")}}}r().initializers.add("maicol07-sso",(function(){(0,t.override)(s().prototype,"oncreate",(function(){if(!d("provider_mode",Boolean)){var e=p();throw window.location.href=e.login.url,new Error("Stop execution")}})),(0,t.extend)(c().prototype,"items",(function(e){if(!d("provider_mode",Boolean))for(var o=p(),t=0,n=Object.entries(o);t<n.length;t++){var r=n[t][1];if(r.url)if(r.removeItem)e.remove(r.itemName);else{if(!e.has(r.itemName))return;e.setContent(r.itemName,m("a",{href:r.url,className:"Button Button--link"},r.text))}}})),(0,t.extend)(u().prototype,"accountItems",(function(e){!d("provider_mode",Boolean)&&d("login_url")&&(e.remove("changeEmail"),e.remove("changePassword"),d("manage_account_url",Boolean)&&e.add("manageAccount",m("a",{class:"Button",href:d("manage_account_url"),target:d("manage_account_btn_open_in_new_tab",Boolean)?"_blank":""},r().translator.trans("maicol07-sso.forum.manage_account_btn"))))})),(0,t.extend)(u().prototype,"settingsItems",(function(e){d("manage_account_url",Boolean)||d("provider_mode",Boolean)||e.has("account")&&0===e.get("account").children.length&&e.remove("account")}))}))})(),module.exports=o})();
//# sourceMappingURL=forum.js.map