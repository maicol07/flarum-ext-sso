(()=>{var e={n:o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return e.d(r,{a:r}),r},d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};(()=>{"use strict";const o=flarum.reg.get("core","common/extend"),r=flarum.reg.get("core","forum/app");var t=e.n(r);const n=flarum.reg.get("core","forum/components/HeaderSecondary");var a=e.n(n);const l=flarum.reg.get("core","forum/components/SettingsPage");var c=e.n(l);const s=flarum.reg.get("core","forum/components/LogInModal");var i=e.n(s);function u(e,o){let r=t().forum.attribute(`maicol07-sso.${e}`);return void 0!==o?(o!==Boolean||isNaN(r)||(r=Number(r)),o(r)):r}t().initializers.add("maicol07-sso",()=>{(0,o.override)(i().prototype,"oncreate",()=>{if(!u("provider_mode",Boolean)){const e=u("login_url");throw e?window.location.href=e:t().alerts.show({type:"error"},t().translator.trans("maicol07-sso.forum.no_login_url_error")),new Error("Stop execution")}}),(0,o.extend)(a().prototype,"items",e=>{if(!u("provider_mode",Boolean)){const o={login:{url:u("login_url"),itemName:"logIn",removeItem:u("remove_login_btn",Boolean),text:t().translator.trans("core.forum.header.log_in_link")},signup:{url:u("signup_url"),itemName:"signUp",removeItem:u("remove_signup_btn",Boolean),text:t().translator.trans("core.forum.header.sign_up_link")}};for(const[,r]of Object.entries(o))if(r.url)if(r.removeItem)e.remove(r.itemName);else{if(!e.has(r.itemName))return;e.setContent(r.itemName,m("a",{href:r.url,className:"Button Button--link"},r.text))}}}),(0,o.extend)(c().prototype,"accountItems",e=>{!u("provider_mode",Boolean)&&u("login_url")&&(e.remove("changeEmail"),e.remove("changePassword"),u("manage_account_url",Boolean)&&e.add("manageAccount",m("a",{class:"Button",href:u("manage_account_url"),target:u("manage_account_btn_open_in_new_tab",Boolean)?"_blank":""},t().translator.trans("maicol07-sso.forum.manage_account_btn"))))}),(0,o.extend)(c().prototype,"settingsItems",e=>{u("manage_account_url",Boolean)||u("provider_mode",Boolean)||e.has("account")&&0===e.get("account").children.length&&e.remove("account")})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map